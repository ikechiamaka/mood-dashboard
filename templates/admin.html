{% extends 'base.html' %}
{% block title %}Admin - NeuroSense{% endblock %}

{% block content %}
<!-- Sidebar -->
<div class="sidebar">
  <div class="sidebar-brand">
    <i class="fas fa-brain me-2"></i><span>NeuroSense</span>
  </div>
  <ul class="sidebar-nav">
    <li class="sidebar-item"><a href="/dashboard" class="sidebar-link"><i class="fas fa-home"></i><span>Dashboard</span></a></li>
    <li class="sidebar-item"><a href="/admin" class="sidebar-link active"><i class="fas fa-tools"></i><span>Admin</span></a></li>
  </ul>
  <div class="p-3">
    <a class="btn btn-outline-light btn-sm w-100 sidebar-action-btn" href="/logout" data-label="Logout">
      <i class="fas fa-sign-out-alt me-2"></i>
      <span class="sidebar-action-text">Logout</span>
    </a>
  </div>
</div>

<!-- Main Content -->
<div class="main-content admin-page">
  <nav class="navbar navbar-expand-lg px-4">
    <a class="navbar-brand" href="#"><i class="fas fa-tools me-2"></i><span>Admin</span></a>
    <div class="ms-auto">
      <a class="btn btn-outline-primary btn-sm" href="/dashboard"><i class="fas fa-arrow-left me-2"></i>Back to Dashboard</a>
    </div>
  </nav>

  <div class="container-fluid py-4">
    <!-- Facility Management -->
    <div class="col-12 mb-4">
      <div class="admin-section-header">
        <h5 class="admin-section-title"><i class="fas fa-hospital me-2"></i>Facility Management</h5>
        <span class="admin-section-badge">Admins only</span>
      </div>
      <ul class="nav nav-pills gap-2 mb-3" id="adminFacilityTabs" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="btn btn-sm btn-outline-primary active" data-bs-toggle="pill" data-bs-target="#tabBeds" type="button" role="tab">Beds</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="btn btn-sm btn-outline-primary" data-bs-toggle="pill" data-bs-target="#tabStaff" type="button" role="tab">Staff Contacts</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="btn btn-sm btn-outline-primary" data-bs-toggle="pill" data-bs-target="#tabShifts" type="button" role="tab">Shifts</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="btn btn-sm btn-outline-primary" data-bs-toggle="pill" data-bs-target="#tabDevices" type="button" role="tab">Devices</button>
        </li>
      </ul>
      <div class="tab-content">
        <div class="tab-pane fade show active" id="tabBeds" role="tabpanel">
          <div class="card-custom admin-card mb-4">
            <div class="d-flex align-items-center justify-content-between gap-2 mb-3 flex-wrap">
              <div class="card-title mb-0">Beds</div>
              <button id="clearBedsBtn" type="button" class="btn btn-sm btn-outline-danger">
                <i class="fas fa-broom me-2"></i>Clear All
              </button>
            </div>
            <form class="row g-2 mb-3">
              <div class="col-md-4"><input id="bedName" class="form-control form-control-sm" placeholder="Bed label" /></div>
              <div class="col-md-3"><input id="bedRoom" class="form-control form-control-sm" placeholder="Room" /></div>
              <div class="col-md-3"><input id="bedPatient" class="form-control form-control-sm" placeholder="Patient (opt)" /></div>
              <div class="col-md-2 text-end"><button id="addBedBtn" type="button" class="btn btn-sm btn-primary w-100">Add Bed</button></div>
            </form>
            <ul id="bedsList" class="list-group list-group-flush small"></ul>
          </div>
        </div>
        <div class="tab-pane fade" id="tabStaff" role="tabpanel">
          <div class="card-custom admin-card mb-4">
            <div class="card-title">Staff Contacts</div>
            <form class="row g-2 mb-3">
              <div class="col-md-4"><input id="staffName" class="form-control form-control-sm" placeholder="Name" /></div>
              <div class="col-md-4"><input id="staffPhone" class="form-control form-control-sm" placeholder="+234..." /></div>
              <div class="col-md-2"><input id="staffRole" class="form-control form-control-sm" placeholder="Role (nurse)" /></div>
              <div class="col-md-2 text-end"><button id="addStaffBtn" type="button" class="btn btn-sm btn-primary w-100">Add Staff</button></div>
            </form>
            <ul id="staffList" class="list-group list-group-flush small"></ul>
          </div>
        </div>
        <div class="tab-pane fade" id="tabShifts" role="tabpanel">
          <div class="card-custom admin-card mb-4">
            <div class="card-title">Shifts</div>
            <form class="row g-2 mb-3">
              <div class="col-md-3"><input id="shiftName" class="form-control form-control-sm" placeholder="Shift name" /></div>
              <div class="col-md-2"><input id="shiftStart" class="form-control form-control-sm" placeholder="Start HH:MM" /></div>
              <div class="col-md-2"><input id="shiftEnd" class="form-control form-control-sm" placeholder="End HH:MM" /></div>
              <div class="col-md-2"><input id="shiftDays" class="form-control form-control-sm" placeholder="Days 0,1,2" /></div>
              <div class="col-md-2"><input id="shiftStaffIds" class="form-control form-control-sm" placeholder="Staff ID" /></div>
              <div class="col-md-1 text-end"><button id="addShiftBtn" type="button" class="btn btn-sm btn-primary w-100">Add</button></div>
            </form>
            <ul id="shiftsList" class="list-group list-group-flush small"></ul>
          </div>
        </div>
        <div class="tab-pane fade" id="tabDevices" role="tabpanel">
          <div class="card-custom admin-card mb-4">
            <div class="d-flex align-items-center justify-content-between gap-2 mb-3 flex-wrap">
              <div class="card-title mb-0">Devices</div>
              <button id="clearDevicesBtn" type="button" class="btn btn-sm btn-outline-danger">
                <i class="fas fa-broom me-2"></i>Clear All
              </button>
            </div>
            <form class="row g-2 mb-3">
              <div class="col-md-3"><input id="deviceId" class="form-control form-control-sm" placeholder="DEV-001" /></div>
              <div class="col-md-3"><input id="deviceBedId" class="form-control form-control-sm" placeholder="Bed ID" /></div>
              <div class="col-md-3"><input id="deviceFirmware" class="form-control form-control-sm" placeholder="Firmware" /></div>
              <div class="col-md-3 text-end"><button id="addDeviceBtn" type="button" class="btn btn-sm btn-primary w-100">Add Device</button></div>
            </form>
            <ul id="devicesList" class="list-group list-group-flush small"></ul>
          </div>
        </div>
      </div>
    </div>

    <!-- User Management -->
    <div class="col-12 mb-4">
      <div class="admin-section-header">
        <h5 class="admin-section-title"><i class="fas fa-users-cog me-2"></i>User Management</h5>
        <span class="admin-section-badge">Admins only</span>
      </div>
      <div class="card-custom admin-card">
        <div class="card-title">Add User</div>
        <form class="row g-2 mb-3">
          <div class="col-xl-3 col-md-6"><input id="userEmail" class="form-control form-control-sm" placeholder="Email" /></div>
          <div class="col-xl-2 col-md-6"><input id="userName" class="form-control form-control-sm" placeholder="Name (opt)" /></div>
          <div class="col-xl-2 col-md-6"><input id="userPassword" type="password" class="form-control form-control-sm" placeholder="Password" /></div>
          <div class="col-xl-2 col-md-6">
            <select id="userRole" class="form-select form-select-sm">
              <option value="staff">Staff</option>
              <option value="facility_admin">Facility Admin</option>
              <option value="super_admin">Super Admin</option>
            </select>
          </div>
          <div class="col-xl-1 col-md-6"><input id="userFacilityId" class="form-control form-control-sm" placeholder="Facility" /></div>
          <div class="col-xl-2 col-md-6"><input id="userAssigned" class="form-control form-control-sm" placeholder="Assigned IDs (1,2)" /></div>
          <div class="col-12 text-end"><button id="addUserBtn" type="button" class="btn btn-sm btn-primary">Add User</button></div>
        </form>
        <ul id="usersList" class="list-group list-group-flush small"></ul>
      </div>
    </div>
  </div>
</div>
{% endblock %}
